(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1b26":function(t,e,n){},"2f70":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("2f62");i["a"].use(r["a"]);var a=new r["a"].Store({state:{search_engine:function(){return localStorage.getItem("search_engine")?localStorage.getItem("search_engine"):"bing"}(),if_in_manage:!1,is_add:!1}}),s=a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Search"),n("List"),n("Tips"),n("div",{staticClass:"bottom-none"})],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search_area"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"search_content",type:"text",placeholder:t.hint,autocomplete:"off"},domProps:{value:t.content},on:{keydown:t.gen_hint,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("div",{attrs:{id:"search_btn"}},[n("img",{attrs:{src:"svg/search_btn.svg",title:t.$store.state.search_engine},on:{click:t.search}})])])},h=[],u=(n("ac1f"),n("5319"),{mounted:function(){this.gen_hint()},data:function(){return{content:"",hint:"",hints:["Hello world.","✨邪王真眼是最棒的！"],jumps:{bing:function(t){return"https://cn.bing.com/search?q=".concat(t)},google:function(t){return"https://www.google.com/search?q=".concat(t)},github:function(t){return"https://github.com/search?q=".concat(t,"&ref=opensearch")},baidu:function(t){return"https://www.baidu.com/s?wd=".concat(t)}}}},methods:{open:function(){var t=this.$store.state.search_engine;window.open(this.jumps[t||"bing"](this.content))},rand:function(){var t=Math.round(Math.random()*this.hints.length);return t==this.hints.length?t-1:t},gen_hint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ketCode:0};13!=t.keyCode&&(this.hint=this.hints[this.rand()])},search:function(){if(this.content.replace(" ","").length>0){var t=localStorage.getItem("search_history");t=JSON.parse(t||"{}"),t[Date.now()]=this.content,localStorage.setItem("search_history",JSON.stringify(t)),this.open()}else this.hint="想查什么呢🤔"}}}),d=u,f=(n("a478"),n("2877")),g=Object(f["a"])(d,l,h,!1,null,"217686d2",null),p=g.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tips"})},m=[],_={},b=_,y=Object(f["a"])(b,v,m,!1,null,"69b7bb80",null),w=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.is_hash_real&&!this.$store.state.if_in_manage?n("div",{attrs:{id:"list"}},[n("Manager"),t._l(t.items,(function(e,i){return n("Item",{key:t.name(i),attrs:{info:e}})}))],2):t.$store.state.if_in_manage?n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.is_add&&t.$store.state.if_in_manage,expression:"$store.state.is_add && $store.state.if_in_manage"}]},[n("AddItem")],1),n("div",{attrs:{id:"list"}},[n("Manager"),n("AltEngine"),n("Add"),t._l(t.items,(function(e,i){return n("RemoveItem",{key:"destroy://"+t.name(i),attrs:{info:e}})}))],2)]):n("div",{attrs:{id:"unknown"}},[t._v(" 不存在的路径 ")])])},$=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item",attrs:{title:t.title},on:{click:t.goto}},[n("img",{key:t.isDir,attrs:{src:t.src}}),n("p",[t._v(t._s(t.name))])])},x=[],I=(n("b0c0"),n("99af"),n("1276"),n("a434"),n("fb6a"),{decode_hash:function(){return decodeURI(location.hash)},data_tree:function(){var t=localStorage.getItem("data_tree")?localStorage.getItem("data_tree"):'["home"]';return JSON.parse(t)},deep_find:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURI(location.hash),n=this.arr(e),i=0;i<n.length;i++)if(t=this.find_node(t,n[i]),!1===t)return!1;return t},find_node:function(t,e){for(var n in t)if(t[n]instanceof Array&&t[n][0]==e)return t[n];return!1},arr_to_hash:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0==t.length)return"";for(var e=t[0],n=1;n<t.length;n++)e+="/"+t[n];return e},parent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash);return this.arr_to_hash(this.arr(t+"/.."))},identify:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash),e=this.arr(t),n=this.data_tree(),i=0;i<e.length;i++)if(n=this.find_node(n,e[i]),!1===n)return!1;return console.log("HASH正确，",n),n},arr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash);t=this.hash(t);for(var e=t?t.split("/"):[],n=0;n<e.length;n++)""==e[n]?e.splice(n--,1):".."==e[n]&&(e.splice(n--,1),n>=0&&e.splice(n--,1));return e},item_list:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash),e=this.identify(t),n=[];this.hash(t)&&n.push({type:"backward",details:{name:".."}});for(var i=1;i<e.length;i++)n.push({type:e[i]instanceof Array?"dir":"link",details:e[i]});return n},is_real:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash),e=this.identify(t);return!1!==e},hash:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash);"#"==t[0]&&(t=t.slice(1));for(var e=t.split("/"),n=0;n<e.length;n++)""!=e[n]&&"/"!=e[n]&&" "!=e[n]||e.splice(n--,1);if(console.log("tmep",e),0==e.length)return"";var i=e[0];for(n=1;n<e.length;n++)i+="/"+e[n];return i},goto:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURI(location.hash),e=this.arr(t);if(0!=e.length){for(var n=e[0],i=1;i<e.length;i++)n+="/"+e[i];location.hash=n,console.log(e)}else location.hash=""}});I.goto();var S=I,j={props:["info","type"],data:function(){return{details:this.info.details,isDir:"dir"==this.info.type}},methods:{goto:function(){this.isDir||"backward"==this.info.type?S.goto(location.hash+"/"+this.name):window.open(this.details.url)}},computed:{src:function(){return"dir"==this.info.type?"svg/dir.svg":"backward"==this.info.type?"svg/返回.svg":"svg/link.svg"},content_count:function(){var t=S.identify(decodeURI(location.hash)+"/"+this.name);return t.length-1},title:function(){return this.isDir?"".concat(this.name,"(").concat(this.content_count,")"):this.details.url},name:function(){return"backward"==this.info.type?"..":this.isDir?this.details[0]:this.details.name}}},E=j,R=(n("9894"),Object(f["a"])(E,O,x,!1,null,null,null)),A=R.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"body"},on:{click:function(e){t.$store.state.if_in_manage=!t.$store.state.if_in_manage}}},[n("img",{attrs:{src:t.src(),title:t.title()}}),n("p",[t._v(t._s(t.title()))])])},D=[],U={methods:{title:function(){return this.$store.state.if_in_manage?"退出":"管理"},src:function(){return this.$store.state.if_in_manage?"svg/close.svg":"svg/database.svg"}}},P=U,M=(n("e23d"),Object(f["a"])(P,C,D,!1,null,"233e75ef",null)),N=M.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item",attrs:{title:t.title},on:{click:t.del}},[n("img",{key:t.isDir,attrs:{src:t.src}}),n("p",[t._v(t._s(t.name))])])},T=[],q={props:["info","type"],data:function(){return{details:this.info.details,isDir:"dir"==this.info.type}},methods:{del:function(){if("backward"==this.info.type)S.goto(S.parent());else{if(!confirm("确定要删除 ".concat(this.name," 吗？")))return;for(var t=S.data_tree(),e=t,n=S.arr(),i=0;i<n.length;i++)if(e=S.find_node(e,n[i]),!1===e)return!1;for(console.log("pa:",e),i=1;i<e.length;i++)if(this.isDir){if(e[i]instanceof Array&&e[i][0]==this.details[0]){e.splice(i,1);break}}else if(!(e[i]instanceof Array)&&e[i].name==this.details.name){e.splice(i,1);break}console.log("del:",t),localStorage.setItem("data_tree",JSON.stringify(t)),location.hash+="/"}}},computed:{src:function(){return this.isDir?"svg/删除文件夹.svg":"backward"==this.info.type?"svg/返回.svg":"svg/del_link.svg"},content_count:function(){var t=S.identify(location.hash+"/"+this.name);return t.length-1},title:function(){if("backward"==this.info.type)return"返回上一级";var t=this.isDir?"".concat(this.name,"(").concat(this.content_count,")"):this.details.url;return"删除->"+t},name:function(){return"backward"==this.info.type?"..":this.isDir?this.details[0]:this.details.name}}},H=q,L=(n("d274"),Object(f["a"])(H,J,T,!1,null,"e58ed9e4",null)),B=L.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item",attrs:{title:"添加"},on:{click:t.add}},[n("img",{attrs:{src:"svg/添加2.svg"}}),n("p",[t._v("添加")])])},F=[],G={methods:{add:function(){this.$store.state.is_add=!this.$store.state.is_add}},computed:{}},K=G,Q=Object(f["a"])(K,z,F,!1,null,"7c825b57",null),V=Q.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"add-area"}},[n("h3",[t._v("新建")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_name,expression:"new_name"}],attrs:{type:"text",placeholder:t.hash()},domProps:{value:t.new_name},on:{input:function(e){e.target.composing||(t.new_name=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{type:"text",placeholder:"URL（为空则只创建文件夹）"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),n("div",{attrs:{id:"button-area"}},[n("div",{staticClass:"btn",attrs:{id:"confirm"},on:{click:t.submit}},[t._v("确定")]),n("div",{staticClass:"btn",attrs:{id:"cancel"},on:{click:function(e){t.$store.state.is_add=!1}}},[t._v("取消")])])])},X=[],Y={data:function(){return{url:"",new_name:""}},methods:{hash:function(){var t=S.hash();return t?"/"+t:"/home"},submit:function(){var t=S.data_tree(),e=S.deep_find(t);console.log("submit",e);var n=S.hash(this.new_name).split("/");for(var i in n)if(""!=n[i])if(i<n.length-1||""==this.url){var r=S.find_node(e,n[i]);!1===r?(e.push([n[i]]),e=e[1]):e=r}else e.push({name:n[i],url:this.url});localStorage.setItem("data_tree",JSON.stringify(t)),location.hash+="/"}}},Z=Y,tt=(n("caef"),Object(f["a"])(Z,W,X,!1,null,"15752dea",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item",attrs:{title:"点击切换搜索引擎"},on:{click:t.alt}},[n("img",{attrs:{src:t.src}}),n("p",[t._v(t._s(t.$store.state.search_engine))])])},it=[],rt={methods:{alt:function(){var t=this.$store.state.search_engine,e=["baidu","bing","google","github"];this.$store.state.search_engine=e[(e.indexOf(t)+1)%e.length]}},computed:{src:function(){var t=this.$store.state.search_engine;return"bing"==t?"./svg/Bing.svg":"baidu"==t?"./svg/百度.svg":"google"==t?"./svg/google.svg":"./svg/github.svg"}}},at=rt,st=Object(f["a"])(at,nt,it,!1,null,"76d4bfe4",null),ot=st.exports,ct={mounted:function(){var t=this;window.onhashchange=function(){t.refresh(),S.goto()}},data:function(){return{items:S.item_list(),is_hash_real:S.is_real(),shift:0,not_in_manage:!0,path:S.hash()+"/",is_add:!1,hashs:[1,2,3]}},methods:{refresh:function(){this.is_hash_real=S.is_real();var t=S.item_list();while(0!=this.items.length)this.items.pop();for(var e in t)this.items.push(t[e]);console.log("刷新："+this.shift,this.items),this.path=S.hash()},name:function(t){return"backward"==this.items[t].type?"backward":this.path+t}},watch:{},components:{Item:A,Manager:N,RemoveItem:B,Add:V,AddItem:et,AltEngine:ot}},lt=ct,ht=(n("f62b"),Object(f["a"])(lt,k,$,!1,null,null,null)),ut=ht.exports,dt={name:"App",components:{Search:p,List:ut,Tips:w}},ft=dt,gt=(n("9950"),Object(f["a"])(ft,o,c,!1,null,"aee8dce2",null)),pt=gt.exports;i["a"].config.productionTip=!1,new i["a"]({name:"Index",store:s,render:function(t){return t(pt)},beforeCreate:function(){this.$bus=this}}).$mount("#app")},"5d8f":function(t,e,n){},"65da":function(t,e,n){},"7f2e":function(t,e,n){},9894:function(t,e,n){"use strict";n("d434")},9950:function(t,e,n){"use strict";n("1b26")},a478:function(t,e,n){"use strict";n("7f2e")},caef:function(t,e,n){"use strict";n("2f70")},d274:function(t,e,n){"use strict";n("5d8f")},d434:function(t,e,n){},daa5:function(t,e,n){},e23d:function(t,e,n){"use strict";n("daa5")},f62b:function(t,e,n){"use strict";n("65da")}});
//# sourceMappingURL=app.2159636c.js.map